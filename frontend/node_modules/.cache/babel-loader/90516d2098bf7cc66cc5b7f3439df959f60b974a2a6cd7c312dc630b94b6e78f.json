{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\phanm\\\\OneDrive\\\\Desktop\\\\hotel-management\\\\frontend\\\\src\\\\pages\\\\Mybooking.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport CommonSection from '../Shared/CommonSection';\nimport { Container, Row, Col } from 'reactstrap';\nimport BookingCard from '../Shared/BookingCard';\nimport useFetch from '../hooks/useFetch.js';\nimport { BASE_URL } from '../utils/config.js';\nimport { AuthContext } from '../context/AuthContext';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyBookings = () => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    user\n  } = useContext(AuthContext);\n  console.log(user);\n  const {\n    data: allBookings,\n    loading: allLoading\n  } = useFetch(`${BASE_URL}/bookings/user/${user._id}`);\n  useEffect(() => {\n    if (!allLoading && allBookings) {\n      setBookings(allBookings);\n      setLoading(false);\n    }\n  }, [allBookings, allLoading]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CommonSection, {\n      title: \"My Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [loading && /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center\",\n          children: \"Loading.........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 33\n        }, this), !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: bookings.length > 0 ? /*#__PURE__*/_jsxDEV(Row, {\n            children: bookings.map(booking => /*#__PURE__*/_jsxDEV(Col, {\n              lg: \"4\",\n              md: \"6\",\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(BookingCard, {\n                booking: booking\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 45\n              }, this)\n            }, booking._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-center\",\n            children: \"You haven't made any bookings yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 33\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(MyBookings, \"nu3QMI2LwBlGOlq1tlyqvNy0Ejg=\", false, function () {\n  return [useFetch];\n});\n_c = MyBookings;\nexport default MyBookings;\nvar _c;\n$RefreshReg$(_c, \"MyBookings\");","map":{"version":3,"names":["React","useContext","useEffect","useState","CommonSection","Container","Row","Col","BookingCard","useFetch","BASE_URL","AuthContext","MyBookings","bookings","setBookings","loading","setLoading","user","console","log","data","allBookings","allLoading","_id","length","map","booking"],"sources":["C:/Users/phanm/OneDrive/Desktop/hotel-management/frontend/src/pages/Mybooking.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport CommonSection from '../Shared/CommonSection';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport BookingCard from '../Shared/BookingCard';\r\nimport useFetch from '../hooks/useFetch.js';\r\nimport { BASE_URL } from '../utils/config.js';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst MyBookings = () => {\r\n    const [bookings, setBookings] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const { user } = useContext(AuthContext);\r\n    console.log(user);\r\n    const { data: allBookings, loading: allLoading } = useFetch(`${BASE_URL}/bookings/user/${user._id}`);\r\n\r\n    useEffect(() => {\r\n        if (!allLoading && allBookings) {\r\n            setBookings(allBookings);\r\n            setLoading(false);\r\n        }\r\n    }, [allBookings, allLoading]);\r\n\r\n    return (\r\n        <>\r\n            <CommonSection title=\"My Bookings\" />\r\n            <section className=\"py-5\">\r\n                <Container>\r\n                    {loading && <h4 className=\"text-center\">Loading.........</h4>}\r\n                    {!loading && (\r\n                        <>\r\n                            {bookings.length > 0 ? (\r\n                                <Row>\r\n                                    {bookings.map((booking) => (\r\n                                        <Col lg=\"4\" md=\"6\" className=\"mb-4\" key={booking._id}>\r\n                                            <BookingCard booking={booking} />\r\n                                        </Col>\r\n                                    ))}\r\n                                </Row>\r\n                            ) : (\r\n                                <h4 className=\"text-center\">You haven't made any bookings yet.</h4>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </Container>\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MyBookings;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,aAAa,MAAM,yBAAyB;AACnD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,QAAQ,YAAY;AAChD,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,WAAW,QAAQ,wBAAwB;AAAC;AAAA;AAErD,MAAMC,UAAU,GAAG,MAAM;EAAA;EACrB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAM;IAAEc;EAAK,CAAC,GAAGhB,UAAU,CAACU,WAAW,CAAC;EACxCO,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EACjB,MAAM;IAAEG,IAAI,EAAEC,WAAW;IAAEN,OAAO,EAAEO;EAAW,CAAC,GAAGb,QAAQ,CAAE,GAAEC,QAAS,kBAAiBO,IAAI,CAACM,GAAI,EAAC,CAAC;EAEpGrB,SAAS,CAAC,MAAM;IACZ,IAAI,CAACoB,UAAU,IAAID,WAAW,EAAE;MAC5BP,WAAW,CAACO,WAAW,CAAC;MACxBL,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACK,WAAW,EAAEC,UAAU,CAAC,CAAC;EAE7B,oBACI;IAAA,wBACI,QAAC,aAAa;MAAC,KAAK,EAAC;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG,eACrC;MAAS,SAAS,EAAC,MAAM;MAAA,uBACrB,QAAC,SAAS;QAAA,WACLP,OAAO,iBAAI;UAAI,SAAS,EAAC,aAAa;UAAA,UAAC;QAAgB;UAAA;UAAA;UAAA;QAAA,QAAK,EAC5D,CAACA,OAAO,iBACL;UAAA,UACKF,QAAQ,CAACW,MAAM,GAAG,CAAC,gBAChB,QAAC,GAAG;YAAA,UACCX,QAAQ,CAACY,GAAG,CAAEC,OAAO,iBAClB,QAAC,GAAG;cAAC,EAAE,EAAC,GAAG;cAAC,EAAE,EAAC,GAAG;cAAC,SAAS,EAAC,MAAM;cAAA,uBAC/B,QAAC,WAAW;gBAAC,OAAO,EAAEA;cAAQ;gBAAA;gBAAA;gBAAA;cAAA;YAAG,GADIA,OAAO,CAACH,GAAG;cAAA;cAAA;cAAA;YAAA,QAGvD;UAAC;YAAA;YAAA;YAAA;UAAA,QACA,gBAEN;YAAI,SAAS,EAAC,aAAa;YAAA,UAAC;UAAkC;YAAA;YAAA;YAAA;UAAA;QACjE,iBAER;MAAA;QAAA;QAAA;QAAA;MAAA;IACO;MAAA;MAAA;MAAA;IAAA,QACN;EAAA,gBACX;AAEX,CAAC;AAAC,GAxCIX,UAAU;EAAA,QAMuCH,QAAQ;AAAA;AAAA,KANzDG,UAAU;AA0ChB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}